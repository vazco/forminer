"use strict";(self.webpackChunkforminer=self.webpackChunkforminer||[]).push([[513],{3905:(n,e,t)=>{t.d(e,{Zo:()=>l,kt:()=>u});var o=t(7294);function i(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function r(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,o)}return t}function a(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?r(Object(t),!0).forEach((function(e){i(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function s(n,e){if(null==n)return{};var t,o,i=function(n,e){if(null==n)return{};var t,o,i={},r=Object.keys(n);for(o=0;o<r.length;o++)t=r[o],e.indexOf(t)>=0||(i[t]=n[t]);return i}(n,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(o=0;o<r.length;o++)t=r[o],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}var c=o.createContext({}),p=function(n){var e=o.useContext(c),t=e;return n&&(t="function"==typeof n?n(e):a(a({},e),n)),t},l=function(n){var e=p(n.components);return o.createElement(c.Provider,{value:e},n.children)},d={inlineCode:"code",wrapper:function(n){var e=n.children;return o.createElement(o.Fragment,{},e)}},m=o.forwardRef((function(n,e){var t=n.components,i=n.mdxType,r=n.originalType,c=n.parentName,l=s(n,["components","mdxType","originalType","parentName"]),m=p(t),u=i,f=m["".concat(c,".").concat(u)]||m[u]||d[u]||r;return t?o.createElement(f,a(a({ref:e},l),{},{components:t})):o.createElement(f,a({ref:e},l))}));function u(n,e){var t=arguments,i=e&&e.mdxType;if("string"==typeof n||i){var r=t.length,a=new Array(r);a[0]=m;var s={};for(var c in e)hasOwnProperty.call(e,c)&&(s[c]=e[c]);s.originalType=n,s.mdxType="string"==typeof n?n:i,a[1]=s;for(var p=2;p<r;p++)a[p]=t[p];return o.createElement.apply(null,a)}return o.createElement.apply(null,t)}m.displayName="MDXCreateElement"},8492:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var o=t(7462),i=(t(7294),t(3905));const r={description:"Learn how to use your own containers"},a="Custom containers",s={unversionedId:"custom-containers",id:"custom-containers",title:"Custom containers",description:"Learn how to use your own containers",source:"@site/docs/custom-containers.mdx",sourceDirName:".",slug:"/custom-containers",permalink:"/docs/custom-containers",draft:!1,tags:[],version:"current",frontMatter:{description:"Learn how to use your own containers"},sidebar:"docs",previous:{title:"Custom components",permalink:"/docs/custom-components"},next:{title:"Handling lists",permalink:"/docs/handling-lists"}},c={},p=[{value:"Creating a custom container",id:"creating-a-custom-container",level:2},{value:"Passing a custom container definition to the <code>Forminer</code> and <code>Form</code>s",id:"passing-a-custom-container-definition-to-the-forminer-and-forms",level:2},{value:"Result",id:"result",level:2}],l={toc:p};function d(n){let{components:e,...r}=n;return(0,i.kt)("wrapper",(0,o.Z)({},l,r,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"custom-containers"},"Custom containers"),(0,i.kt)("p",null,"Forminer offers the ability to create your own custom containers, providing greater flexibility in customizing Forminer to meet individual needs. Containers can be freely nested, allowing you to create universal containers that can be reused with both built-in and custom containers."),(0,i.kt)("h2",{id:"creating-a-custom-container"},"Creating a custom container"),(0,i.kt)("p",null,"Let's create an example custom container ",(0,i.kt)("inlineCode",{parentName:"p"},"Section")," that will group items and allow you to customize 3 properties via UI:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"icon")," - selection of one of the predefined icons"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"title")," - section title (next to the icon)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"description")," - section description")),(0,i.kt)("p",null,"Create ",(0,i.kt)("inlineCode",{parentName:"p"},"Section.tsx")," file in ",(0,i.kt)("inlineCode",{parentName:"p"},"src/components/containers"),"."),(0,i.kt)("p",null,"Example code for ",(0,i.kt)("inlineCode",{parentName:"p"},"Section.tsx")," can be copied and pasted as below."),(0,i.kt)("details",null,(0,i.kt)("summary",null,"See the code"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},'import {\n  type ContainerDefinition,\n  LayoutPlaceholder,\n  renderEdit,\n  renderLive\n} from \'forminer\';\nimport { type CSSProperties } from \'react\';\n\n/** 3 predefined icons for example purposes */\nconst ICONS = {\n  user: (\n    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">\n      <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" />\n      <circle cx="12" cy="7" r="4" />\n    </svg>\n  ),\n  form: (\n    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">\n      <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />\n      <line x1="9" y1="9" x2="15" y2="9" />\n      <line x1="9" y1="13" x2="15" y2="13" />\n      <line x1="9" y1="17" x2="13" y2="17" />\n    </svg>\n  ),\n  document: (\n    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">\n      <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />\n      <polyline points="14 2 14 8 20 8" />\n      <line x1="16" y1="13" x2="8" y2="13" />\n      <line x1="16" y1="17" x2="8" y2="17" />\n      <polyline points="10 9 9 9 8 9" />\n    </svg>\n  )\n};\n\n// We use inline styles, but you can use whatever you want for styling\nconst STYLES: Record<string, CSSProperties> = {\n  section: {\n    backgroundColor: \'white\',\n    borderRadius: \'8px\',\n    boxShadow:\n      \'0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)\',\n    paddingTop: \'26px\',\n    paddingBottom: \'26px\',\n    margin: \'16px 26px\',\n  },\n  sectionHeader: {\n    display: \'flex\',\n    alignItems: \'center\',\n    gap: \'8px\',\n    marginLeft: \'26px\',\n    marginRight: \'26px\',\n    marginBottom: \'16px\',\n  },\n  sectionIcon: {\n    color: \'#3d5bff\',\n  },\n  sectionTitle: {\n    fontSize: \'17px\',\n    fontWeight: 500,\n    letterSpacing: \'0.3px\',\n    color: \'#1f2937\',\n    margin: 0,\n  },\n  sectionDescription: {\n    color: \'#4b5563\',\n    marginLeft: \'26px\',\n    marginRight: \'26px\',\n    marginBottom: \'16px\',\n  },\n};\n\ntype IconType = keyof typeof ICONS;\n\n/** Custom properties specific for `Section` component (related to `Section.configSchema.properties`) */\ntype SectionCustomProps = {\n  icon: IconType | undefined;\n  title: string | undefined;\n  description: string | undefined;\n}\n\n/** Example of custom layout container */\nexport const Section: ContainerDefinition<SectionCustomProps> = {\n  componentEdit: function Section({\n    children,\n    components,\n    containers,\n    depth,\n    description,\n    droppableId,\n    icon,\n    isDragging,\n    path,\n    schema,\n    title,\n    translations,\n    type,\n    views,\n    widgets,\n  }) {\n    return (\n      <div style={STYLES.section}>\n        {(icon || title) && (\n          <div style={STYLES.sectionHeader}>\n            {icon && (\n              <div style={STYLES.sectionIcon}>\n                {ICONS[icon]}\n              </div>\n            )}\n            <h3 style={STYLES.sectionTitle}>\n              {title}\n            </h3>\n          </div>\n        )}\n\n        {description && (\n          <p style={STYLES.sectionDescription}>\n            {description}\n          </p>\n        )}\n\n        {children.length === 0 ? (\n          <LayoutPlaceholder\n            droppableId={droppableId}\n            isDragging={isDragging}\n            type={type}\n            translations={translations}\n          />\n        ) : renderEdit({\n          components,\n          containers,\n          depth: depth + 1,\n          layout: children[0],\n          path: `${path}.children.0`,\n          schema,\n          translations,\n          views,\n          widgets,\n        })}\n      </div>\n    );\n  },\n  componentLive: function Section({\n    children,\n    components,\n    containers,\n    depth,\n    description,\n    icon,\n    path,\n    schema,\n    title,\n    views,\n    widgets,\n  }) {\n    if (!icon && !title && !description && !children.length) {\n      return null\n    }\n\n    return (\n      <div style={STYLES.section}>\n        {(icon || title) && (\n          <div style={STYLES.sectionHeader}>\n            {icon && (\n              <div style={STYLES.sectionIcon}>\n                {ICONS[icon]}\n              </div>\n            )}\n            <h3 style={STYLES.sectionTitle}>\n              {title}\n            </h3>\n          </div>\n        )}\n\n        {description && (\n          <p style={STYLES.sectionDescription}>\n            {description}\n          </p>\n        )}\n\n        {children[0] && renderLive({\n          components,\n          containers,\n          depth: depth + 1,\n          layout: children[0],\n          path: `${path}.children.0`,\n          schema,\n          views,\n          widgets,\n        })}\n      </div>\n    );\n  },\n  configSchema: {\n    type: \'object\',\n    properties: {\n      icon: {\n        type: "string",\n        enum: ["user", "form", "document"],\n      },\n      title: {\n        type: "string",\n      },\n      description: {\n        type: "string",\n      },\n    },\n  },\n};\n'))),(0,i.kt)("h2",{id:"passing-a-custom-container-definition-to-the-forminer-and-forms"},"Passing a custom container definition to the ",(0,i.kt)("inlineCode",{parentName:"h2"},"Forminer")," and ",(0,i.kt)("inlineCode",{parentName:"h2"},"Form"),"s"),(0,i.kt)("p",null,"We need to create ",(0,i.kt)("inlineCode",{parentName:"p"},"containers")," containing a map of custom container definitions."),(0,i.kt)("p",null,"Create ",(0,i.kt)("inlineCode",{parentName:"p"},"containers.ts")," file in ",(0,i.kt)("inlineCode",{parentName:"p"},"src/components/containers")," containing the newly created ",(0,i.kt)("inlineCode",{parentName:"p"},"Section"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"import { type ContainerDefinitions } from 'forminer';\nimport { Section } from './Section';\n\nexport const containers = {\n  Section,\n} satisfies ContainerDefinitions;\n")),(0,i.kt)("p",null,"Now we need to pass ",(0,i.kt)("inlineCode",{parentName:"p"},"containers")," to the ",(0,i.kt)("inlineCode",{parentName:"p"},"Forminer")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"Form")," components as a ",(0,i.kt)("inlineCode",{parentName:"p"},"containers")," property."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"import {\n  createDefaultComponents,\n  Form,\n  Forminer,\n  Provider,\n  useForminer,\n} from 'forminer';\nimport * as theme from 'uniforms-mui';\n// highlight-next-line-added\nimport { containers } from './components/containers/containers';\n\nconst components = createDefaultComponents(theme);\n\nfunction App() {\n  const { dispatch, state } = useForminer();\n\n  return (\n    <>\n      <Provider dispatch={dispatch} state={state}>\n        <Forminer\n          components={components}\n          // highlight-next-line-added\n          containers={containers}\n        />\n      </Provider>\n      <Form\n        components={components}\n        // highlight-next-line-added\n        containers={containers}\n        definition={state.model.present}\n        onSubmit={model => alert(JSON.stringify(model, null, 2))}\n      />\n    </>\n  );\n}\n\nexport default App;\n")),(0,i.kt)("h2",{id:"result"},"Result"),(0,i.kt)("p",null,"The custom ",(0,i.kt)("inlineCode",{parentName:"p"},"Section")," component should now be visible and ready to use. Remember that you can combine it with existing containers (e.g. ",(0,i.kt)("inlineCode",{parentName:"p"},"List vertical"),")."),(0,i.kt)("p",null,(0,i.kt)("img",{src:t(8792).Z,width:"1390",height:"1673"})))}d.isMDXComponent=!0},8792:(n,e,t)=>{t.d(e,{Z:()=>o});const o=t.p+"assets/images/custom-container-section-de700d4f588da56a70c495f308f46720.webp"}}]);